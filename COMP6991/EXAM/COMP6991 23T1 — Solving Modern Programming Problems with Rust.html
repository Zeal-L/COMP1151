<!DOCTYPE html>
<!-- saved from url=(0049)https://cgi.cse.unsw.edu.au/~cs6991/current/exam/ -->
<html lang="en" data-darkreader-mode="dynamic" data-darkreader-scheme="dark" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style class="darkreader darkreader--fallback" media="screen"></style><style class="darkreader darkreader--text" media="screen"></style><style class="darkreader darkreader--invert" media="screen">.jfk-bubble.gtx-bubble, .captcheck_answer_label > input + img, span#closed_text > img[src^="https://www.gstatic.com/images/branding/googlelogo"], span[data-href^="https://www.hcaptcha.com/"] > #icon, #bit-notification-bar-iframe, ::-webkit-calendar-picker-indicator {
    filter: invert(100%) hue-rotate(180deg) contrast(90%) !important;
}</style><style class="darkreader darkreader--inline" media="screen">[data-darkreader-inline-bgcolor] {
  background-color: var(--darkreader-inline-bgcolor) !important;
}
[data-darkreader-inline-bgimage] {
  background-image: var(--darkreader-inline-bgimage) !important;
}
[data-darkreader-inline-border] {
  border-color: var(--darkreader-inline-border) !important;
}
[data-darkreader-inline-border-bottom] {
  border-bottom-color: var(--darkreader-inline-border-bottom) !important;
}
[data-darkreader-inline-border-left] {
  border-left-color: var(--darkreader-inline-border-left) !important;
}
[data-darkreader-inline-border-right] {
  border-right-color: var(--darkreader-inline-border-right) !important;
}
[data-darkreader-inline-border-top] {
  border-top-color: var(--darkreader-inline-border-top) !important;
}
[data-darkreader-inline-boxshadow] {
  box-shadow: var(--darkreader-inline-boxshadow) !important;
}
[data-darkreader-inline-color] {
  color: var(--darkreader-inline-color) !important;
}
[data-darkreader-inline-fill] {
  fill: var(--darkreader-inline-fill) !important;
}
[data-darkreader-inline-stroke] {
  stroke: var(--darkreader-inline-stroke) !important;
}
[data-darkreader-inline-outline] {
  outline-color: var(--darkreader-inline-outline) !important;
}
[data-darkreader-inline-stopcolor] {
  stop-color: var(--darkreader-inline-stopcolor) !important;
}</style><style class="darkreader darkreader--variables" media="screen">:root {
   --darkreader-neutral-background: #131516;
   --darkreader-neutral-text: #d8d4cf;
   --darkreader-selection-background: #004daa;
   --darkreader-selection-text: #e8e6e3;
}</style><style class="darkreader darkreader--root-vars" media="screen"></style><style class="darkreader darkreader--user-agent" media="screen">html {
    background-color: #181a1b !important;
}
html {
    color-scheme: dark !important;
}
html, body {
    background-color: #181a1b;
}
html, body {
    border-color: #736b5e;
    color: #e8e6e3;
}
a {
    color: #3391ff;
}
table {
    border-color: #545b5e;
}
::placeholder {
    color: #b2aba1;
}
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
    background-color: #404400 !important;
    color: #e8e6e3 !important;
}
::-webkit-scrollbar {
    background-color: #202324;
    color: #aba499;
}
::-webkit-scrollbar-thumb {
    background-color: #454a4d;
}
::-webkit-scrollbar-thumb:hover {
    background-color: #575e62;
}
::-webkit-scrollbar-thumb:active {
    background-color: #484e51;
}
::-webkit-scrollbar-corner {
    background-color: #181a1b;
}
::selection {
    background-color: #004daa !important;
    color: #e8e6e3 !important;
}
::-moz-selection {
    background-color: #004daa !important;
    color: #e8e6e3 !important;
}</style>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>COMP6991 23T1 — Solving Modern Programming Problems with Rust</title>

    <link rel="canonical" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/">
    
    <link rel="shortcut icon" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/static/staging-favicon.jpg?1683672909356" type="image/x-icon">
    

    <link rel="stylesheet" href="./COMP6991 23T1 — Solving Modern Programming Problems with Rust_files/bootstrap.min.css" integrity="sha256-aAr2Zpq8MZ+YA/D6JtRD3xtrwpEz2IqOS+pWD/7XKIw=" crossorigin="anonymous"><style class="darkreader darkreader--sync" media="screen"></style>
    <link rel="stylesheet" href="./COMP6991 23T1 — Solving Modern Programming Problems with Rust_files/course.css"><style class="darkreader darkreader--sync" media="screen"></style>
    
    <script src="./COMP6991 23T1 — Solving Modern Programming Problems with Rust_files/jquery.min.js.下载" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><meta name="darkreader" content="142414e3aacc407dbd0857c1e032e538"><style class="darkreader darkreader--override" media="screen">.vimvixen-hint {
    background-color: #7b5300 !important;
    border-color: #d8b013 !important;
    color: #f3e8c8 !important;
}
::placeholder {
    opacity: 0.5 !important;
}
#edge-translate-panel-body,
.MuiTypography-body1,
.nfe-quote-text {
    color: var(--darkreader-neutral-text) !important;
}
gr-main-header {
    background-color: #0f3a48 !important;
}
.tou-z65h9k,
.tou-mignzq,
.tou-1b6i2ox,
.tou-lnqlqk {
    background-color: var(--darkreader-neutral-background) !important;
}
.tou-75mvi {
    background-color: #032029 !important;
}
.tou-ta9e87,
.tou-1w3fhi0,
.tou-1b8t2us,
.tou-py7lfi,
.tou-1lpmd9d,
.tou-1frrtv8,
.tou-17ezmgn {
    background-color: #0a0a0a !important;
}
.tou-uknfeu {
    background-color: #231603 !important;
}
.tou-6i3zyv {
    background-color: #19576c !important;
}</style>
    <script src="./COMP6991 23T1 — Solving Modern Programming Problems with Rust_files/popper.min.js.下载" integrity="sha256-/ijcOLwFf26xEYAjW75FizKVo5tnTYiQddPZoLUHHZ8=" crossorigin="anonymous"></script>
    <script src="./COMP6991 23T1 — Solving Modern Programming Problems with Rust_files/bootstrap.min.js.下载" integrity="sha256-OFRAJNoaD8L3Br5lglV7VyLRf0itmoBzWUoM+Sji4/8=" crossorigin="anonymous"></script>

    <!-- <script async src="https://static.codepen.io/assets/embed/ei.js"></script> -->

    <!-- MathJax. -->
    

    
    

    
<script type="text/javascript" async="" src="./COMP6991 23T1 — Solving Modern Programming Problems with Rust_files/MathJax.js.下载"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style class="darkreader darkreader--sync" media="screen"></style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style class="darkreader darkreader--sync" media="screen"></style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style class="darkreader darkreader--sync" media="screen"></style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style class="darkreader darkreader--sync" media="screen"></style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style class="darkreader darkreader--sync" media="screen"></style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style class="darkreader darkreader--sync" media="screen"></style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style class="darkreader darkreader--sync" media="screen"></style><link type="text/css" rel="stylesheet" charset="UTF-8" href="./COMP6991 23T1 — Solving Modern Programming Problems with Rust_files/m=el_main_css"><style class="darkreader darkreader--cors" media="screen">.VIpgJd-ZVi9od-ORHb-OEVmcd{left:0;top:0;height:39px;width:100%;z-index:10000001;position:fixed;border:none;border-bottom:1px solid #6B90DA;margin:0;box-shadow:0 0 8px 1px #999}.VIpgJd-ZVi9od-xl07Ob-OEVmcd{z-index:10000002;border:none;position:fixed;box-shadow:0 3px 8px 2px #999}.VIpgJd-ZVi9od-SmfZ-OEVmcd{z-index:10000000;border:none;margin:0}.goog-te-gadget{font-family:arial;font-size:11px;color:#666;white-space:nowrap}.goog-te-gadget img{vertical-align:middle;border:none}.goog-te-gadget-simple{background-color:#FFF;border-left:1px solid #D5D5D5;border-top:1px solid #9B9B9B;border-bottom:1px solid #E8E8E8;border-right:1px solid #D5D5D5;font-size:10pt;display:inline-block;padding-top:1px;padding-bottom:2px;cursor:pointer}.goog-te-gadget-icon{margin-left:2px;margin-right:2px;width:19px;height:19px;border:none;vertical-align:middle}.goog-te-combo{margin-left:4px;margin-right:4px;vertical-align:baseline}.goog-te-gadget .goog-te-combo{margin:4px 0}.VIpgJd-ZVi9od-l4eHX-hSRGPd,.VIpgJd-ZVi9od-l4eHX-hSRGPd:link,.VIpgJd-ZVi9od-l4eHX-hSRGPd:visited,.VIpgJd-ZVi9od-l4eHX-hSRGPd:hover,.VIpgJd-ZVi9od-l4eHX-hSRGPd:active{font-size:12px;font-weight:bold;color:#444;text-decoration:none}.VIpgJd-ZVi9od-ORHb .VIpgJd-ZVi9od-l4eHX-hSRGPd,.VIpgJd-ZVi9od-TvD9Pc-hSRGPd{display:block;margin:0 10px}.VIpgJd-ZVi9od-ORHb .VIpgJd-ZVi9od-l4eHX-hSRGPd{padding-top:2px;padding-left:4px}.goog-te-combo,.VIpgJd-ZVi9od-ORHb *,.VIpgJd-ZVi9od-SmfZ *,.VIpgJd-ZVi9od-xl07Ob *,.VIpgJd-ZVi9od-vH1Gmf *,.VIpgJd-ZVi9od-l9xktf *{font-family:arial;font-size:10pt}.VIpgJd-ZVi9od-ORHb{margin:0;background-color:#E4EFFB;overflow:hidden}.VIpgJd-ZVi9od-ORHb img{border:none}.VIpgJd-ZVi9od-ORHb-bN97Pc{color:#000}.VIpgJd-ZVi9od-ORHb-bN97Pc img{vertical-align:middle}.VIpgJd-ZVi9od-ORHb-Tswv1b{color:#666;vertical-align:top;margin-top:0;font-size:7pt}.VIpgJd-ZVi9od-ORHb-KE6vqe{width:8px}.VIpgJd-ZVi9od-LgbsSe{border-color:#E7E7E7;border-style:none solid solid none;border-width:0 1px 1px 0}.VIpgJd-ZVi9od-LgbsSe div{border-color:#CCC #999 #999 #CCC;border-right:1px solid #999;border-style:solid;border-width:1px;height:20px}.VIpgJd-ZVi9od-LgbsSe button{background:transparent;border:none;cursor:pointer;height:20px;overflow:hidden;margin:0;vertical-align:top;white-space:nowrap}.VIpgJd-ZVi9od-LgbsSe button:active{background:none repeat scroll 0 0 #CCC}.VIpgJd-ZVi9od-SmfZ{margin:0;background-color:#FFF;white-space:nowrap}.VIpgJd-ZVi9od-SmfZ-hSRGPd{text-decoration:none;font-weight:bold;font-size:10pt;border:1px outset #888;padding:6px 10px;white-space:nowrap;position:absolute;left:0;top:0}.VIpgJd-ZVi9od-SmfZ-hSRGPd img{margin-left:2px;margin-right:2px;width:19px;height:19px;border:none;vertical-align:middle}.VIpgJd-ZVi9od-SmfZ-hSRGPd span{text-decoration:underline;margin-left:2px;margin-right:2px;vertical-align:middle}.goog-te-float-top .VIpgJd-ZVi9od-SmfZ-hSRGPd{padding:2px;border-top-width:0}.goog-te-float-bottom .VIpgJd-ZVi9od-SmfZ-hSRGPd{padding:2px;border-bottom-width:0}.VIpgJd-ZVi9od-xl07Ob-lTBxed{text-decoration:none;color:#00C;white-space:nowrap;margin-left:4px;margin-right:4px}.VIpgJd-ZVi9od-xl07Ob-lTBxed span{text-decoration:underline}.VIpgJd-ZVi9od-xl07Ob-lTBxed img{margin-left:2px;margin-right:2px}.goog-te-gadget-simple .VIpgJd-ZVi9od-xl07Ob-lTBxed{color:#000}.goog-te-gadget-simple .VIpgJd-ZVi9od-xl07Ob-lTBxed span{text-decoration:none}.VIpgJd-ZVi9od-xl07Ob{background-color:#FFF;text-decoration:none;border:2px solid #C3D9FF;overflow-y:scroll;overflow-x:hidden;position:absolute;left:0;top:0}.VIpgJd-ZVi9od-xl07Ob-ibnC6b{padding:3px;text-decoration:none}.VIpgJd-ZVi9od-xl07Ob-ibnC6b,.VIpgJd-ZVi9od-xl07Ob-ibnC6b:link{color:#00C;background:#FFF}.VIpgJd-ZVi9od-xl07Ob-ibnC6b:visited{color:#551A8B}.VIpgJd-ZVi9od-xl07Ob-ibnC6b:hover{background:#C3D9FF}.VIpgJd-ZVi9od-xl07Ob-ibnC6b:active{color:#00C}.VIpgJd-ZVi9od-vH1Gmf{background-color:#FFF;text-decoration:none;border:1px solid #6B90DA;overflow:hidden;padding:4px}.VIpgJd-ZVi9od-vH1Gmf-KrhPNb{width:16px}.VIpgJd-ZVi9od-vH1Gmf-hgDUwe{margin:6px 0;height:1px;background-color:#aaa;overflow:hidden}.VIpgJd-ZVi9od-vH1Gmf-ibnC6b div,.VIpgJd-ZVi9od-vH1Gmf-ibnC6b-gk6SMd div{padding:4px}.VIpgJd-ZVi9od-vH1Gmf-ibnC6b .uDEFge{display:none}.VIpgJd-ZVi9od-vH1Gmf-ibnC6b-gk6SMd .uDEFge{display:auto}.VIpgJd-ZVi9od-vH1Gmf-ibnC6b-gk6SMd .fmcmS{padding-left:4px;padding-right:4px}.VIpgJd-ZVi9od-vH1Gmf-ibnC6b,.VIpgJd-ZVi9od-vH1Gmf-ibnC6b-gk6SMd{text-decoration:none}.VIpgJd-ZVi9od-vH1Gmf-ibnC6b div,.VIpgJd-ZVi9od-vH1Gmf-ibnC6b:link div,.VIpgJd-ZVi9od-vH1Gmf-ibnC6b:visited div,.VIpgJd-ZVi9od-vH1Gmf-ibnC6b:active div{color:#00C;background:#FFF}.VIpgJd-ZVi9od-vH1Gmf-ibnC6b:hover div{color:#FFF;background:#36C}.VIpgJd-ZVi9od-vH1Gmf-ibnC6b-gk6SMd div,.VIpgJd-ZVi9od-vH1Gmf-ibnC6b-gk6SMd:link div,.VIpgJd-ZVi9od-vH1Gmf-ibnC6b-gk6SMd:visited div,.VIpgJd-ZVi9od-vH1Gmf-ibnC6b-gk6SMd:hover div,.VIpgJd-ZVi9od-vH1Gmf-ibnC6b-gk6SMd:active div{color:#000;font-weight:bold}.VIpgJd-ZVi9od-l9xktf{background-color:#FFF;overflow:hidden;padding:8px;border:none;border-radius:10px}.VIpgJd-ZVi9od-l9xktf-OEVmcd{background-color:#FFF;border:1px solid #6B90DA;box-shadow:0 3px 8px 2px #999;border-radius:8px}.VIpgJd-ZVi9od-l9xktf img{border:none}.VIpgJd-ZVi9od-l9xktf-fmcmS{margin-top:6px}.VIpgJd-ZVi9od-l9xktf-VgwJlc{margin-top:6px;white-space:nowrap}.VIpgJd-ZVi9od-l9xktf-VgwJlc *{vertical-align:middle}.VIpgJd-ZVi9od-l9xktf-VgwJlc .DUGJie{background-image:url('https://www%26google.com/images/zippy_minus_sm.gif')}.VIpgJd-ZVi9od-l9xktf-VgwJlc .TdyTDe{background-image:url('https://www%26google.com/images/zippy_plus_sm.gif')}.VIpgJd-ZVi9od-l9xktf-VgwJlc span{color:#00C;text-decoration:underline;cursor:pointer;margin:0 4px}.VIpgJd-ZVi9od-l9xktf-I9GLp{margin:6px 0 0}.VIpgJd-ZVi9od-l9xktf-I9GLp form{margin:0}.VIpgJd-ZVi9od-l9xktf-I9GLp form textarea{margin-bottom:4px;width:100%}.VIpgJd-ZVi9od-l9xktf-yePe5c{margin:6px 0 4px}.VIpgJd-ZVi9od-aZ2wEe-wOHMyf{z-index:1000;position:fixed;-webkit-transition-delay:.6s;transition-delay:.6s;left:-1000px;top:-1000px}.VIpgJd-ZVi9od-aZ2wEe-wOHMyf-ti6hGc{-webkit-transition-delay:0s;transition-delay:0s;left:-14px;top:-14px}.VIpgJd-ZVi9od-aZ2wEe-OiiCO{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:104px;height:104px;border-radius:50px;background:#FFF url('https://www.gstatic.com/images/branding/product/2x/translate_24dp.png') 50% 50% no-repeat;-webkit-transition:all .6s ease-in-out;transition:all .6s ease-in-out;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}.VIpgJd-ZVi9od-aZ2wEe-OiiCO-ti6hGc{-webkit-transform:scale(.5);transform:scale(.5);opacity:1}.VIpgJd-ZVi9od-aZ2wEe{margin:2px 0 0 2px;-webkit-animation:spinner-rotator 1.4s linear infinite;animation:spinner-rotator 1.4s linear infinite}@-webkit-keyframes spinner-rotator{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}}@keyframes spinner-rotator{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}}.VIpgJd-ZVi9od-aZ2wEe-Jt5cK{stroke-dasharray:187;stroke-dashoffset:0;stroke:#4285F4;-webkit-transform-origin:center;transform-origin:center;-webkit-animation:spinner-dash 1.4s ease-in-out infinite;animation:spinner-dash 1.4s ease-in-out infinite}@-webkit-keyframes spinner-dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;-webkit-transform:rotate(135deg);transform:rotate(135deg)}100%{stroke-dashoffset:187;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}@keyframes spinner-dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;-webkit-transform:rotate(135deg);transform:rotate(135deg)}100%{stroke-dashoffset:187;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}.VIpgJd-yAWNEb-L7lbkb html,.VIpgJd-yAWNEb-L7lbkb body,.VIpgJd-yAWNEb-L7lbkb div,.VIpgJd-yAWNEb-L7lbkb span,.VIpgJd-yAWNEb-L7lbkb iframe,.VIpgJd-yAWNEb-L7lbkb h1,.VIpgJd-yAWNEb-L7lbkb h2,.VIpgJd-yAWNEb-L7lbkb h3,.VIpgJd-yAWNEb-L7lbkb h4,.VIpgJd-yAWNEb-L7lbkb h5,.VIpgJd-yAWNEb-L7lbkb h6,.VIpgJd-yAWNEb-L7lbkb p,.VIpgJd-yAWNEb-L7lbkb a,.VIpgJd-yAWNEb-L7lbkb img,.VIpgJd-yAWNEb-L7lbkb ol,.VIpgJd-yAWNEb-L7lbkb ul,.VIpgJd-yAWNEb-L7lbkb li,.VIpgJd-yAWNEb-L7lbkb table,.VIpgJd-yAWNEb-L7lbkb form,.VIpgJd-yAWNEb-L7lbkb tbody,.VIpgJd-yAWNEb-L7lbkb tr,.VIpgJd-yAWNEb-L7lbkb td{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline;text-align:left;line-height:normal}.VIpgJd-yAWNEb-L7lbkb ol,.VIpgJd-yAWNEb-L7lbkb ul{list-style:none}.VIpgJd-yAWNEb-L7lbkb table{border-collapse:collapse;border-spacing:0}.VIpgJd-yAWNEb-L7lbkb caption,.VIpgJd-yAWNEb-L7lbkb th,.VIpgJd-yAWNEb-L7lbkb td{text-align:left;font-weight:normal}.VIpgJd-yAWNEb-L7lbkb input::-moz-focus-inner{border:0}div>.VIpgJd-yAWNEb-L7lbkb{padding:10px 14px}.VIpgJd-yAWNEb-L7lbkb{color:#222;background-color:#fff;border:1px solid #eee;box-shadow:0 4px 16px rgba(0,0,0,.2);-moz-box-shadow:0 4px 16px rgba(0,0,0,.2);-webkit-box-shadow:0 4px 16px rgba(0,0,0,.2);display:none;font-family:arial;font-size:10pt;width:420px;padding:12px;position:absolute;z-index:10000}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-nVMfcd-fmcmS,.VIpgJd-yAWNEb-yAWNEb-Vy2Aqc-pbTTYe{clear:both;font-size:10pt;position:relative;text-align:justify;width:100%}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-r4nke{color:#999;font-family:arial,sans-serif;margin:4px 0;text-align:left}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-TvD9Pc-LgbsSe{display:none}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-l4eHX{float:left;margin:0}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-Z0Arqf-PLDbbf{display:inline-block}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-fw42Ze-Z0Arqf-haAclf{display:none;width:100%}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-Z0Arqf-H9tDt{margin-top:20px}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-LK5yu{float:left}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-qwU8Me{float:right}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-cGMI2b{min-height:15px;position:relative;height:1%}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-jOfkMb-Ne3sFf{background:-webkit-linear-gradient(top,#29910d 0,#20af0e 100%);background:-webkit-gradient(linear,left top,left bottom,from(#29910d),to(#20af0e));background:linear-gradient(top,#29910d 0,#20af0e 100%);background:#29910d;border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px;box-shadow:inset 0 2px 2px #1e6609;-moz-box-shadow:inset 0 2px 2px #1e6609;-webkit-box-shadow:inset 0 2px 2px #1e6609;color:white;font-size:9pt;font-weight:bolder;margin-top:12px;padding:6px;text-shadow:1px 1px 1px #1e6609}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-Z0Arqf-hSRGPd{color:#15c;cursor:pointer;font-family:arial;font-size:11px;margin-right:15px;text-decoration:none}.VIpgJd-yAWNEb-L7lbkb>textarea{font-family:arial;resize:vertical;width:100%;margin-bottom:10px;border-radius:1px;border:1px solid #d9d9d9;border-top:1px solid silver;font-size:13px;height:auto;overflow-y:auto;padding:1px}.VIpgJd-yAWNEb-L7lbkb textarea:focus{box-shadow:inset 0 1px 2px rgba(0,0,0,.3);border:1px solid #4d90fe;outline:none}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-Z0Arqf-IbE0S{margin-right:10px}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp{min-height:25px;vertical-align:middle;padding-top:8px}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp{margin-bottom:5px;margin-bottom:0}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input{display:inline-block;min-width:54px;*min-width:70px;border:1px solid #dcdcdc;border:1px solid rgba(0,0,0,.1);text-align:center;color:#444;font-size:11px;font-weight:bold;height:27px;outline:0;padding:0 8px;vertical-align:middle;line-height:27px;margin:0 16px 0 0;box-shadow:0 1px 2px rgba(0,0,0,.1);-moz-box-shadow:0 1px 2px rgba(0,0,0,.1);-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);border-radius:2px;-webkit-transition:all .218s;transition:all .218s;background-color:#f5f5f5;background-image:-webkit-gradient(linear,left top,left bottom,from(#f5f5f5),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:linear-gradient(top,#f5f5f5,#f1f1f1);-webkit-user-select:none;-moz-user-select:none;cursor:default}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input:hover{border:1px solid #c6c6c6;color:#222;-webkit-transition:all 0s;transition:all 0s;background-color:#f8f8f8;background-image:-webkit-gradient(linear,left top,left bottom,from(#f8f8f8),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:linear-gradient(top,#f8f8f8,#f1f1f1)}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input:active{border:1px solid #c6c6c6;color:#333;background-color:#f6f6f6;background-image:-webkit-gradient(linear,left top,left bottom,from(#f6f6f6),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:linear-gradient(top,#f6f6f6,#f1f1f1)}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input:focus .VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input.AHmuwe .VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input:active,.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input:focus:active{box-shadow:inset 0 0 0 1px rgba(255,255,255,.5);-webkit-box-shadow:inset 0 0 0 1px rgba(255,255,255,.5);-moz-box-shadow:inset 0 0 0 1px rgba(255,255,255,.5)}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input:focus,.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input.AHmuwe{outline:none;border:1px solid #4d90fe;z-index:4!important}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input.gk6SMd{background-color:#eee;background-image:-webkit-gradient(linear,left top,left bottom,from(#eee),to(#e0e0e0));background-image:-webkit-linear-gradient(top,#eee,#e0e0e0);background-image:linear-gradient(top,#eee,#e0e0e0);box-shadow:inset 0 1px 2px rgba(0,0,0,.1);border:1px solid #ccc;color:#333}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input .VIpgJd-yAWNEb-Z0Arqf-sFeBqf{color:white;border-color:#3079ed;background-color:#4d90fe;background-image:-webkit-gradient(linear,left top,left bottom,from(#4d90fe),to(#4787ed));background-image:-webkit-linear-gradient(top,#4d90fe,#4787ed);background-image:linear-gradient(top,#4d90fe,#4787ed)}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input .VIpgJd-yAWNEb-Z0Arqf-sFeBqf:hover .VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input .VIpgJd-yAWNEb-Z0Arqf-sFeBqf:focus,.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input .VIpgJd-yAWNEb-Z0Arqf-sFeBqf.AHmuwe .VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input .VIpgJd-yAWNEb-Z0Arqf-sFeBqf:active{border-color:#3079ed;background-color:#357ae8;background-image:-webkit-gradient(linear,left top,left bottom,from(#4d90fe),to(#357ae8));background-image:-webkit-linear-gradient(top,#4d90fe,#357ae8);background-image:linear-gradient(top,#4d90fe,#357ae8)}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input .VIpgJd-yAWNEb-Z0Arqf-sFeBqf:hover{box-shadow:inset 0 0 0 1px #fff,0 1px 1px rgba(0,0,0,.1);-webkit-box-shadow:inset 0 0 0 1px #fff,0 1px 1px rgba(0,0,0,.1);-moz-box-shadow:inset 0 0 0 1px #fff,0 1px 1px rgba(0,0,0,.1)}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input:focus,.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input.AHmuwe,.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input:active,.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input:hover,.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input .VIpgJd-yAWNEb-Z0Arqf-sFeBqf:focus,.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input .VIpgJd-yAWNEb-Z0Arqf-sFeBqf.AHmuwe,.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input .VIpgJd-yAWNEb-Z0Arqf-sFeBqf:active,.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-L4Nn5e-I9GLp .VIpgJd-yAWNEb-Z0Arqf-I9GLp input .VIpgJd-yAWNEb-Z0Arqf-sFeBqf:hover{border-color:#3079ed}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-mrxPge{color:#999;font-family:arial,sans-serif}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-IFdKyd-W0vJo-fmcmS{color:#999;font-size:11px;font-family:arial,sans-serif;margin:15px 0 5px}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-IFdKyd-u0pjoe-fmcmS{color:#800;display:none;font-size:9pt}.VIpgJd-yAWNEb-VIpgJd-fmcmS-sn54Q{background-color:#c9d7f1;box-shadow:2px 2px 4px #99a;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;position:relative}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-IFdKyd-xl07Ob .VIpgJd-yAWNEb-VIpgJd-xl07Ob{background:#fff;border:1px solid #ddd;box-shadow:0 2px 4px #99a;min-width:0;outline:none;padding:0;position:absolute;z-index:2000}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-IFdKyd-xl07Ob .VIpgJd-yAWNEb-VIpgJd-j7LFlb{cursor:pointer;padding:2px 5px 5px;margin-right:0;border-style:none}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-IFdKyd-xl07Ob .VIpgJd-yAWNEb-VIpgJd-j7LFlb:hover{background:#ddd}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-IFdKyd-xl07Ob .VIpgJd-yAWNEb-VIpgJd-j7LFlb h1{font-size:100%;font-weight:bold;margin:4px 0}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-IFdKyd-xl07Ob .VIpgJd-yAWNEb-VIpgJd-j7LFlb strong{color:#345aad}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-VIpgJd-eKm5Fc-hFsbo{text-align:right;position:absolute;right:0;left:auto}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-VIpgJd-j7LFlb-SIsrTd .VIpgJd-yAWNEb-VIpgJd-eKm5Fc-hFsbo{text-align:left;position:absolute;left:0;right:auto}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-yAWNEb-Vy2Aqc-fmcmS,.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-TVLw9c-ppHlrf-sn54Q{background-color:#f1ea00;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;box-shadow:rgba(0,0,0,.5) 3px 3px 4px;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;color:#f1ea00;cursor:pointer;margin:-2px -2px -2px -3px;padding:2px 2px 2px 3px;position:relative}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-TVLw9c-ppHlrf-sn54Q{color:#222}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-yAWNEb-Vy2Aqc-pbTTYe{color:white;position:absolute!important}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-TVLw9c-ppHlrf,.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-TVLw9c-ppHlrf .VIpgJd-yAWNEb-TVLw9c-ppHlrf-sn54Q{background-color:#c9d7f1;border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0;-moz-border-radius:4px 4px 0 0;box-shadow:rgba(0,0,0,.5) 3px 3px 4px;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;cursor:pointer;margin:-2px -2px -2px -3px;padding:2px 2px 3px 3px;position:relative}.VIpgJd-yAWNEb-L7lbkb span:focus{outline:none}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-TVLw9c-DyVDA{background-color:transparent;border:1px solid #4d90fe;border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;margin:-2px;padding:1px}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-yAWNEb-TVLw9c-sn54Q-LzX3ef{border-left:2px solid red;margin-left:-2px}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-yAWNEb-TVLw9c-sn54Q-YIAiIb{border-right:2px solid red;margin-right:-2px}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-IFdKyd-YPqjbf{padding:2px}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-IFdKyd-YPqjbf-fmcmS{font-size:11px;padding:2px 2px 3px;margin:0;background-color:#fff;color:#333;border:1px solid #d9d9d9;border-top:1px solid #c0c0c0;display:inline-block;vertical-align:top;height:21px;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-webkit-border-radius:1px}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-IFdKyd-YPqjbf-fmcmS:hover{border:1px solid #b9b9b9;border-top:1px solid #a0a0a0;box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-IFdKyd-YPqjbf-fmcmS:focus{box-shadow:inset 0 1px 2px rgba(0,0,0,.3);outline:none;border:1px solid #4d90fe}.VIpgJd-yAWNEb-L7lbkb .VIpgJd-yAWNEb-IFdKyd-YPqjbf-sFeBqf{font-size:11px;padding:2px 6px 3px;margin:0 0 0 2px;height:21px}.VIpgJd-yAWNEb-hvhgNd{font-family:"Google Sans",Arial,sans-serif}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-l4eHX-i3jM8c{position:absolute;top:10px;left:14px}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-l4eHX-SIsrTd{position:absolute;top:10px;right:14px}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-k77Iif-i3jM8c,.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-k77Iif-SIsrTd{margin:16px;padding:0}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-IuizWc{margin:0 0 0 36px;padding:0;color:#747775;font-size:14px;font-weight:500}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-k77Iif-SIsrTd .VIpgJd-yAWNEb-hvhgNd-IuizWc{text-align:right;margin:0 36px 0 0}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-axAV1{width:auto;padding:12px 0 0;color:#1f1f1f;font-size:16px;text-align:initial}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-axAV1 .VIpgJd-yAWNEb-SIsrTd{text-align:right}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-N7Eqid{border-radius:0 0 12px 12px;margin:0;background:#f1f4f9;position:relative;min-height:50px}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-N7Eqid .VIpgJd-yAWNEb-SIsrTd{text-align:right}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od{display:inline-block;width:77%;padding:12px}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od .VIpgJd-yAWNEb-SIsrTd{text-align:right}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-UTujCb{color:#1f1f1f;font-size:12px;font-weight:500}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od .VIpgJd-yAWNEb-SIsrTd .VIpgJd-yAWNEb-hvhgNd-UTujCb{text-align:right}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-eO9mKe{color:#444746;font-size:12px;padding-top:4px}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od .VIpgJd-yAWNEb-SIsrTd .VIpgJd-yAWNEb-hvhgNd-eO9mKe{text-align:right}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-xgov5{position:absolute;top:10px;right:5px}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-xgov5 .VIpgJd-yAWNEb-SIsrTd{left:5px;right:auto}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-THI6Vb{fill:#0b57d0}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-bgm6sf{margin:-4px 2px 0 0;padding:2px 0 0;width:48px;height:48px;border:none;border-radius:24px;cursor:pointer;background:none}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-bgm6sf:hover{background:#e8ebec}.VIpgJd-yAWNEb-hvhgNd .VIpgJd-yAWNEb-hvhgNd-aXYTce{display:none}.VIpgJd-yAWNEb-wdjgF{font-family:"Google Sans",Arial,sans-serif}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-l4eHX-i3jM8c{position:absolute;top:10px;left:10px}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-l4eHX-SIsrTd{position:absolute;top:10px;right:10px}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-k77Iif-i3jM8c{margin:16px 16px 16px 48px;padding:0}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-k77Iif-SIsrTd{margin:16px 48px 16px 16px;padding:0}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-IuizWc{margin:0;padding:0;color:#1f1f1f;font-size:14px;font-weight:500}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-k77Iif-SIsrTd .VIpgJd-yAWNEb-hvhgNd-IuizWc{text-align:right}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-axAV1{width:auto;padding:8px 0;color:#1f1f1f;font-size:16px;text-align:initial}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-axAV1 .VIpgJd-yAWNEb-SIsrTd{text-align:right}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-fAt1Sb{height:0;width:70%;border:none;border-top:1px solid #c2e7ff;border-collapse:collapse;background:none}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-yVJrbd{margin:0;padding:0;color:#0b57d0;font-size:14px;font-weight:500}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-k77Iif-SIsrTd .VIpgJd-yAWNEb-hvhgNd-yVJrbd{text-align:right}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-IkhkZd{width:auto;padding:8px 0;color:#0b57d0;font-size:16px;text-align:initial}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-IkhkZd .VIpgJd-yAWNEb-SIsrTd{text-align:right}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-N7Eqid{border-radius:0 0 12px 12px;margin:0;background:#f1f4f9;position:relative;min-height:50px}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-N7Eqid .VIpgJd-yAWNEb-SIsrTd{text-align:right}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od{display:inline-block;width:77%;padding:12px}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od .VIpgJd-yAWNEb-SIsrTd{text-align:right}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-UTujCb{color:#1f1f1f;font-size:12px;font-weight:500}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od .VIpgJd-yAWNEb-SIsrTd .VIpgJd-yAWNEb-hvhgNd-UTujCb{text-align:right}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-eO9mKe{color:#444746;font-size:12px;padding-top:4px}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od .VIpgJd-yAWNEb-SIsrTd .VIpgJd-yAWNEb-hvhgNd-eO9mKe{text-align:right}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-xgov5{position:absolute;top:10px;right:5px}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-xgov5 .VIpgJd-yAWNEb-SIsrTd{left:5px;right:auto}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-THI6Vb{fill:#0b57d0}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-bgm6sf{margin:-4px 2px 0 0;padding:2px 0 0;width:48px;height:48px;border:none;border-radius:24px;cursor:pointer;background:none}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-bgm6sf:hover{background:#e8ebec}.VIpgJd-yAWNEb-wdjgF .VIpgJd-yAWNEb-hvhgNd-aXYTce{display:none}sentinel{}</style><style class="darkreader darkreader--sync" media="screen"></style></head>
<body class="d-flex flex-column vsc-initialized" style="min-height: 100vh;" cz-shortcut-listen="true"><div id="MathJax_Message" style="display: none;"></div>
<nav class="navbar fixed-top navbar-expand-lg navbar-light no-print" id="header-navbar">
    <div class="container">
        <div class="mr-auto">
            <button id="hide-contentbar" class="toggler-button" onclick="document.getElementById(&#39;contentbar&#39;).classList.toggle(&#39;hidden-contentbar&#39;)">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/">
              COMP6991 - 23T1 
            </a>
        </div>
        <div class="">
          <a href="https://doc.rust-lang.org/stable/std/" target="_blank">
            <img loading="lazy" src="./COMP6991 23T1 — Solving Modern Programming Problems with Rust_files/ferris.png" height="48">
          </a>
        </div>
    </div>
</nav>
<main class="container" aria-label="Content" style="flex: 1; padding-top: 4rem;">
    <div class="row">
        <nav id="contentbar" class="bg-light sidebar col-lg-3 hidden-contentbar">
            <div class="sidebar-sticky pt-3">
                <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mb-1 text-muted">
                    Important Links
                </h6>

                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="d-flex nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/forum/" target="_blank">
                            Course Forum
                            <img style="color: black; --darkreader-inline-color:#e8e6e3;" onload="this.style.color=&#39;black&#39;" class="justify-content-between" src="./COMP6991 23T1 — Solving Modern Programming Problems with Rust_files/new_tab_icon.png" width="20" height="20" alt="open in new tab" data-darkreader-inline-color="">
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="d-flex nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/outline" target="_blank">
                            Course Outline
                            <img style="color: black; --darkreader-inline-color:#e8e6e3;" onload="this.style.color=&#39;black&#39;" class="justify-content-between" src="./COMP6991 23T1 — Solving Modern Programming Problems with Rust_files/new_tab_icon.png" width="20" height="20" alt="open in new tab" data-darkreader-inline-color="">
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/blog_posts">
                            Blog Posts 
                        </a>
                    </li> 
                    <li class="nav-item">
                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/timetable">
                            Course Timetable
                        </a>
                    </li>
                </ul><h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                    Resources
                </h6>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link" type="button" data-toggle="collapse" href="https://cgi.cse.unsw.edu.au/~cs6991/current/exam/#home-computing">
                            Home Computing
                        </a>
                        <div class="collapse" id="home-computing">
                            <div class="card card-body" style="padding: 0.5rem">
                                
                                <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/resources/rust-toolchain">
                                Installing the Rust toolchain
                                </a>
                                <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/resources/editor-vscode">
                                Writing Rust in VS Code
                                </a>
                                <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/resources/editor-neovim">
                                Writing Rust in Neovim
                                </a>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lectures">
                            Lectures
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/gallery">
                            Gallery
                        </a>
                    </li>
                </ul>

                
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        Assignments
                    </h6>

                      
                          
                              <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/assignment/01">
                                  Assignment 1
                              </a>
                          
                              <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/assignment/02">
                                  Assignment 2
                              </a>
                          
                      
                


                
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        Week by Week
                    </h6>

                    <ul class="nav flex-column">
                        <li class="nav-item">
                                <a class="nav-link" type="button" data-toggle="collapse" href="https://cgi.cse.unsw.edu.au/~cs6991/current/exam/#week00">
                                    Week 00
                                </a>
                                <div class="collapse " id="week00">
                                    <div class="card card-body" style="padding: 0.5rem">
                                        
                                            
                                                
                                            
                                        
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/00/questions">
                                                        Weekly Exercises
                                                    </a>
                                                    
                                                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/00/answers">
                                                            Exercise Answers
                                                        </a>
                                                    
                                                
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                    </div>
                                </div>
                            </li>
                        <li class="nav-item">
                                <a class="nav-link" type="button" data-toggle="collapse" href="https://cgi.cse.unsw.edu.au/~cs6991/current/exam/#week01">
                                    Week 01
                                </a>
                                <div class="collapse " id="week01">
                                    <div class="card card-body" style="padding: 0.5rem">
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/revision/01/questions">
                                                        Revision Questions
                                                    </a>
                                                    
                                                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/revision/01/answers">
                                                            Revision Answers
                                                        </a>
                                                    
                                                
                                            
                                        
                                        
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/01/questions">
                                                        Weekly Exercises
                                                    </a>
                                                    
                                                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/01/answers">
                                                            Exercise Answers
                                                        </a>
                                                    
                                                
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/workshop/01/questions">
                                                        Workshop Questions
                                                    </a>
                                                    
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                    </div>
                                </div>
                            </li>
                        <li class="nav-item">
                                <a class="nav-link" type="button" data-toggle="collapse" href="https://cgi.cse.unsw.edu.au/~cs6991/current/exam/#week02">
                                    Week 02
                                </a>
                                <div class="collapse " id="week02">
                                    <div class="card card-body" style="padding: 0.5rem">
                                        
                                            
                                                
                                            
                                        
                                        
                                            
                                        
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/02/questions">
                                                        Weekly Exercises
                                                    </a>
                                                    
                                                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/02/answers">
                                                            Exercise Answers
                                                        </a>
                                                    
                                                
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/workshop/02/questions">
                                                        Workshop Questions
                                                    </a>
                                                    
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                    </div>
                                </div>
                            </li>
                        <li class="nav-item">
                                <a class="nav-link" type="button" data-toggle="collapse" href="https://cgi.cse.unsw.edu.au/~cs6991/current/exam/#week03">
                                    Week 03
                                </a>
                                <div class="collapse " id="week03">
                                    <div class="card card-body" style="padding: 0.5rem">
                                        
                                            
                                                
                                            
                                        
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/03/questions">
                                                        Weekly Exercises
                                                    </a>
                                                    
                                                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/03/answers">
                                                            Exercise Answers
                                                        </a>
                                                    
                                                
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/workshop/03/questions">
                                                        Workshop Questions
                                                    </a>
                                                    
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                    </div>
                                </div>
                            </li>
                        <li class="nav-item">
                                <a class="nav-link" type="button" data-toggle="collapse" href="https://cgi.cse.unsw.edu.au/~cs6991/current/exam/#week04">
                                    Week 04
                                </a>
                                <div class="collapse " id="week04">
                                    <div class="card card-body" style="padding: 0.5rem">
                                        
                                            
                                                
                                            
                                        
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/04/questions">
                                                        Weekly Exercises
                                                    </a>
                                                    
                                                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/04/answers">
                                                            Exercise Answers
                                                        </a>
                                                    
                                                
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/workshop/04/questions">
                                                        Workshop Questions
                                                    </a>
                                                    
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                    </div>
                                </div>
                            </li>
                        <li class="nav-item">
                                <a class="nav-link" type="button" data-toggle="collapse" href="https://cgi.cse.unsw.edu.au/~cs6991/current/exam/#week05">
                                    Week 05
                                </a>
                                <div class="collapse " id="week05">
                                    <div class="card card-body" style="padding: 0.5rem">
                                        
                                            
                                                
                                            
                                        
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/05/questions">
                                                        Weekly Exercises
                                                    </a>
                                                    
                                                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/05/answers">
                                                            Exercise Answers
                                                        </a>
                                                    
                                                
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/workshop/05/questions">
                                                        Workshop Questions
                                                    </a>
                                                    
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                    </div>
                                </div>
                            </li>
                        <li class="nav-item">
                                <a class="nav-link" type="button" data-toggle="collapse" href="https://cgi.cse.unsw.edu.au/~cs6991/current/exam/#week07">
                                    Week 07
                                </a>
                                <div class="collapse " id="week07">
                                    <div class="card card-body" style="padding: 0.5rem">
                                        
                                            
                                                
                                            
                                        
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/07/questions">
                                                        Weekly Exercises
                                                    </a>
                                                    
                                                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/07/answers">
                                                            Exercise Answers
                                                        </a>
                                                    
                                                
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/workshop/07/questions">
                                                        Workshop Questions
                                                    </a>
                                                    
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                    </div>
                                </div>
                            </li>
                        <li class="nav-item">
                                <a class="nav-link" type="button" data-toggle="collapse" href="https://cgi.cse.unsw.edu.au/~cs6991/current/exam/#week08">
                                    Week 08
                                </a>
                                <div class="collapse " id="week08">
                                    <div class="card card-body" style="padding: 0.5rem">
                                        
                                            
                                                
                                            
                                        
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/08/questions">
                                                        Weekly Exercises
                                                    </a>
                                                    
                                                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/08/answers">
                                                            Exercise Answers
                                                        </a>
                                                    
                                                
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/workshop/08/questions">
                                                        Workshop Questions
                                                    </a>
                                                    
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                    </div>
                                </div>
                            </li>
                        <li class="nav-item">
                                <a class="nav-link" type="button" data-toggle="collapse" href="https://cgi.cse.unsw.edu.au/~cs6991/current/exam/#week09">
                                    Week 09
                                </a>
                                <div class="collapse " id="week09">
                                    <div class="card card-body" style="padding: 0.5rem">
                                        
                                            
                                                
                                            
                                        
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/09/questions">
                                                        Weekly Exercises
                                                    </a>
                                                    
                                                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/09/answers">
                                                            Exercise Answers
                                                        </a>
                                                    
                                                
                                            
                                        
                                            
                                        
                                            
                                        
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/workshop/09/questions">
                                                        Workshop Questions
                                                    </a>
                                                    
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                    </div>
                                </div>
                            </li>
                        <li class="nav-item">
                                <a class="nav-link" type="button" data-toggle="collapse" href="https://cgi.cse.unsw.edu.au/~cs6991/current/exam/#week10">
                                    Week 10
                                </a>
                                <div class="collapse  show " id="week10">
                                    <div class="card card-body" style="padding: 0.5rem">
                                        
                                            
                                                
                                            
                                        
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/10/questions">
                                                        Weekly Exercises
                                                    </a>
                                                    
                                                        <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/lab/10/answers">
                                                            Exercise Answers
                                                        </a>
                                                    
                                                
                                            
                                        
                                            
                                        
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                            
                                        
                                            
                                                
                                                    <a class="nav-link" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/workshop/10/questions">
                                                        Workshop Questions
                                                    </a>
                                                    
                                                
                                            
                                        
                                    </div>
                                </div>
                            </li>
                        
                    </ul>
                

                <ul class="nav flex-column">

                </ul>

                <div class="pb-3"></div>
            </div>
        </nav>
        <div class="col-md ml-sm-auto col-lg px-md-4">
            

                <header>
                    
  <h1 class="text-center course-title">COMP6991 Final Exam</h1>

                </header>

                




<div class="tutlab lab">



<section>
  <header><h3>Getting Started</h3></header>
  
  
    <p>
      Create a new directory for this lab called <code>exam_final</code>,
      change to this directory,
      and fetch the provided code for the exam
      by running these commands:

</p><pre is="tty"><kbd is="sh">mkdir exam_final</kbd>
<kbd is="sh">cd exam_final</kbd>
<kbd is="sh">6991 fetch exam</kbd></pre>

    <p>
      Or, if you're not working on CSE,
      you can download the provided code
      as a <a href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/exam/starter.tar">tar file</a>.
  
</p></section>








  
    
<section class="exercise">
    <header><h3><small style="font-variant: small-caps; text-transform: lowercase;">
        
        
        Exercise:
    </small>
    <br>Exam Preamble</h3></header>

    

    
    
    

<h4>Starting time: 2022-05-10 09:00:00</h4>
<h4>Finishing time: 2022-05-10 12:00:00</h4>
<h4>Time for the exam: 3 hours</h4>
<h4>This exam contains <b>7</b> questions, each of equal weight (10 marks each).</h4>
<h4>Total number of marks: 70</h4>
<h4>You should attempt all questions.</h4>
<h3>Exam Condition Summary</h3>
<ul>
  <li>This exam is “Open Book”</li>
  <li>Joint work is NOT permitted in this exam</li>
  <li>You are NOT permitted to communicate (email, phone, message, talk) with anyone during this exam, except for the COMP6991 staff via cs6991.exam@cse.unsw.edu.au</li>
  <li>The exam paper is confidential, sharing it during or after the exam is prohibited.</li>
  <li>You are NOT permitted to submit code that is not your own</li>
  <li>You may NOT ask for help from online sources.</li>
  <li>Even after you finish the exam, on the day of the exam, do NOT communicate your exam answers to anyone. Some students have extended time to complete the exam.</li>
  <li>Do NOT place your exam work in any location, including file sharing services such as Dropbox or GitHub, accessible to any other person.</li>
  <li>Your zpass should NOT be disclosed to any other person. If you have disclosed your zpass, you should change it immediately.</li>
  <li><strong>The use of AI assistants is strictly prohibited in this exam. This includes services such as Github Copilot and OpenAI ChatGPT.</strong><br>
	  As a remark, I have personally pre-emptively fed the entire exam through ChatGPT.
	  It has a very distinct linguistic flavour to its responses,
	  and often incredibly confidently gives an entirely nonsensical answer.
	  Please don't mistakenly believe you won't be caught if you opt to violate these conditions.
</li></ul>

<strong>
  Deliberate violation of these exam conditions will be referred to Student Integrity Unit as
  serious misconduct, which may result in penalties up to and including a mark of 0 in
  COMP6991 and exclusion from UNSW.
</strong>

<ul>
  <li>You are <strong>allowed</strong> to use any resources from the course during the exam.</li>
  <li>You are <strong>allowed</strong> to use small amounts of code (&lt; 10 lines) of general-purpose code (not
    specific to the exam) obtained from a site such as Stack Overflow or other publicly
    available resources. You should attribute the source of this code clearly in an
    accompanying comment.</li>
</ul>

<p>
  Exam submissions will be checked, both automatically and manually, for any occurrences of
  plagiarism.
</p>

<p>
  <i>
    By starting this exam, as a student of The University of New South Wales, you do solemnly and
    sincerely declare that you have not seen any part of this specific examination paper for the
    above course prior to attempting this exam, nor have any details of the exam's contents been
    communicated to you. In addition, you will not disclose to any University student any
    information contained in the abovementioned exam for a period of 24 hrs after the exam.
    Violation of this agreement is considered Academic Misconduct and penalties may apply.
  </i>
</p>

<p>
  For more information, read the <a href="https://www.gs.unsw.edu.au/policy/documents/studentcodepolicy.pdf">UNSW Student Code</a>,
  or contact the <a href="https://cgi.cse.unsw.edu.au/~cs6991/current/exam/cs6991@cse.unsw.edu.au">Course Account</a>.
</p>

<ul>
  <li>This exam comes with starter files.</li>
  <li>You will be able to commence the exam and fetch the files once the exam commences.</li>
  <li>You may complete the exam questions using any platform you wish (VLab, VSCode, etc). You should ensure that the platform works correctly.</li>
  <li>You may submit your answers, using the give command provided below each question.</li>
  <li>You can use give to submit as many times as you wish. Only the last submission will be marked.</li>
  <li>Do NOT leave it to the deadline to submit your answers. Submit each question when you finish working on it.</li>
  <li>Please make sure that you submit all your answers at the conclusion of the exam - running the autotests does not automatically submit your code.</li>
  <li>Autotests are available for all practical questions to assist in your testing. You can use the command: <code>6991 autotest</code></li>
  <li>Passing autotests does not guarantee any marks. Remember to do your own testing!</li>
  
  <li>No marks are awarded for commenting - but you can leave comments for the marker to make your code more legible as needed</li>
</ul>

<h3>Language Restriction </h3>
<ul>
  <li>All programming questions must be answered entirely in Rust. You may not use any other programming languages.</li>
  <li>You are not permitted to use third-party crates other than the standard library (std).</li>
</ul>

<h3>Fit to Sit</h3>

<p>
  By sitting or submitting an assessment on the scheduled assessment date, a student is declaring
  that they are fit to do so and cannot later apply for Special Consideration.
</p>

<p>
  If, during an exam a student feels unwell to the point that they cannot continue with the exam,
  they should take the following steps:
</p>

<ol>
  <li>Stop working on the exam and take note of the time</li>
  <li>Contact us immediately, using cs6991.exam@cse.unsw.edu.au, and advise us that you are unwell</li>
  <li>Immediately submit a Special Consideration application saying that you felt ill during the exam and were unable to continue</li>
  <li>If you were able to advise us of the illness during the assessment (as above), attach screenshots of this conversation to the Special Consideration application</li>
</ol>


<h3>Technical Issues</h3>
<p>
  If you experience a technical issue, you should take the following steps:
</p>

<ol>
  <li>If your issue is with the connection to CSE, please follow the following steps:</li>
  <ul>
    <li>
      <b>If you are using VLab: </b>
      Try exiting VLAB and reconnecting again - this may put you on a different server, which may improve your connection.
      If you are still experiencing problems, you can try changing how you connect to the CSE servers. Consider:
    </li>

    <ul>
      <li>
        By using VSCode (with SSH-FS extension): <a href="https://www.cse.unsw.edu.au/~learn/homecomputing/vscode/">https://www.cse.unsw.edu.au/~learn/homecomputing/vscode/</a>
      </li>
      <li>
        By using SSH: <a href="https://taggi.cse.unsw.edu.au/FAQ/Logging_In_With_SSH/">https://taggi.cse.unsw.edu.au/FAQ/Logging_In_With_SSH/</a>
      </li>
    </ul>


    <li>
      <b>If you are using VSCode remote-ssh: </b>
      Try disconnecting VSCode, and then changing the URL from <code>vscode.unsw.edu.au</code> to <code>vscode2.unsw.edu.au</code>.
    </li>
    <li>
      <b>If you are using SSH: </b>
      Try disconnecting SSH and reconnecting again.
    </li>
  </ul>
  <li>If things are still NOT working, take screenshots of as many of the following as possible:</li>
  <ul>
    <li>error messages</li>
    <li>screen not loading</li>
    <li>timestamped speed tests</li>
    <li>power outage maps</li>
  </ul>
  <li>Contact should be made immediately to advise us of the issue at cs6991.exam@cse.unsw.edu.au</li>
  <li>A Special Consideration application should be submitted immediately after the conclusion of the assessment, along with the appropriate screenshots.</li>
</ol>


    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
    
      
        
            
            
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
            
            
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
        
    
        
    

    

    

    

    

    
    

</section>
  
    
<section class="exercise">
    <header><h3><small style="font-variant: small-caps; text-transform: lowercase;">
        
        
        Exercise:
    </small>
    <br>Q1: Theory (10 marks)</h3></header>

    

    
    
    

<h2>Q1.1 (4 marks)</h2>
<strong>Question:</strong>
<p>
</p><ol>
<li>Explain the difference between the <code>&amp;str</code> and <code>String</code> types, with respect to <em>ownership</em>. <em>(1 mark)</em>
</li><li>Explain how the behaviour regarding <em>lifetimes</em> differ between <code>&amp;str</code> and <code>String</code>. <em>(1 mark)</em>
</li><li>Outline an example of when a <code>&amp;str</code> might be used instead of a <code>String</code>. <em>(1 mark)</em>
</li><li>Outline an example of when a <code>String</code> might be used instead of a <code>&amp;str</code>. <em>(1 mark)</em>
</li></ol>

<hr>

  <p>
  Write your answer in <code>exam_q1/q1_1.txt</code>.

  </p><p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q1_1 q1_1.txt</kbd>
</pre>

  <br>
  <br>


<h2>Q1.2 (2 marks)</h2>

<p>The following Rust code fails to compile, but equivalent code in
  other popular programming languages (<abbr>e.g.</abbr> C, Java, Python)
  compiles and/or works correctly.

</p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">main</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">() {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> my_string </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">String</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">from(</span><span style="color: rgb(134, 179, 0); --darkreader-inline-color:#d3ff4f;" data-darkreader-inline-color="">"Hello, World!"</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="font-style: italic; color: rgb(171, 176, 182); --darkreader-inline-color:#b6b0a7;" data-darkreader-inline-color="">// print the string twice
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">print_string</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(my_string)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">print_string</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(my_string)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">print_string</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">string</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> String) {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">println!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(134, 179, 0); --darkreader-inline-color:#d3ff4f;" data-darkreader-inline-color="">"</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">{string}</span><span style="color: rgb(134, 179, 0); --darkreader-inline-color:#d3ff4f;" data-darkreader-inline-color="">"</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<p><strong>Question:</strong>
</p><p>
</p><ol>
<li>Explain what issue(s) prevent the Rust compiler from building this code. <em>(1 mark)</em>
</li><li>Explain the philosophy behind this language decision. <em>(1 mark)</em>
</li></ol>

<hr>

  <p>
  Write your answer in <code>exam_q1/q1_2.txt</code>.

  </p><p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q1_2 q1_2.txt</kbd>
</pre>

  <br>
  <br>


<h2>Q1.3 (4 marks)</h2>

<p><strong>Question:</strong>
</p><p>
Idiomatic Rust programs often extensively use enums when considering errors or other failure cases.
Select another programming language of your choice (e.g. C, Java, Python, Go, etc.),
and contrast its equivalent error-handling features with Rust.

</p><p>
Provide at least three individual points of contrast <em>(3 marks)</em>,
along with an overall judgement as to their merits and disadvantages. <em>(1 mark)</em>

</p><aside class="note">
<p>Any reasonable programming language is an acceptable choice for this question.
</p><p>Esoteric languages
   (<abbr>e.g.</abbr>, Brainf***, INTERCAL, <abbr>etc.</abbr>)
   are not acceptable, and will not receive marks.
</p><p>You must select a <strong>programming</strong> language.
   Languages that do not involve programming
   (<abbr>e.g.</abbr> markup languages (HTML, Markdown), query languages (SQL, jq), <abbr>etc.</abbr>)
   are not acceptable, and will not receive marks.
</p><p>Programming languages that are slightly more niche
   (<abbr>e.g.</abbr> Haskell, Zig, Swift, Lisp) are perfectly acceptable.
</p><p>If you are unsure whether your programming language is "reasonable",
   simply default to C.
</p></aside>

<hr>

  <p>
  Write your answer in <code>exam_q1/q1_3.txt</code>.

  </p><p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q1_3 q1_3.txt</kbd>
</pre>

  <br>
  <br>


    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
            
            
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
        
    
        
    

    

    

    

    

    
    

</section>
  
    
<section class="exercise">
    <header><h3><small style="font-variant: small-caps; text-transform: lowercase;">
        
        
        Exercise:
    </small>
    <br>Q2: Practical (10 marks)</h3></header>

    

    
    
    

<p>
  Boris is attempting to write a function
  <code>split_once</code>, which takes two string slices:
  <code>string</code> and <code>split_on</code>.
  If <code>split_on</code> occurs within <code>string</code>,
  it will return <code>Some</code> tuple of the slice of
  <code>string</code> that exists before the first occurence
  of <code>split_on</code>, and the remainder of <code>string</code>
  after the first occurence.
</p>

<p>
  Boris is certain that he has written the implementation of the
  function correctly, but is not so confident in Rust when it comes
  to lifetimes. Sadly, his code does not compile currently.
</p>

<pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">split_once</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">'a</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">, </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">'b</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&gt;(</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">string</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">: </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">'a str</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">split_on</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">: </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">'b str</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Option&lt;(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">'b str</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">, </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">'a str</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)&gt; {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">    </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> index </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">=</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> string.</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">find</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(split_on)</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">?</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">    </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> tuple </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">string[</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">..</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">index]</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">string[index </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">+</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> split_on.</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">len</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">()</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">..</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">])</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">    </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">Some</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(tuple)
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<p>
  Your task is to fix the lifetimes issue with Boris' broken code.
  You only have to modify lifetimes in order to solve the
  issue, and thus you are not permitted to change any code
  except that relevant to lifetimes in <code>src/lib.rs</code>.
  You are permitted to add, remove, and modify lifetimes in this exercise.
</p>

<p>
  This is an example of the expected behaviour:
</p>

<pre is="tty"><kbd is="sh">6991 cargo run --bin exam_q2</kbd>
    Finished dev [unoptimized + debuginfo] target(s) in 0.00s
     Running `target/debug/exam_q2`
Some(("hello", "world"))

<kbd is="sh">6991 cargo run --bin exam_q2_alt</kbd>
    Finished dev [unoptimized + debuginfo] target(s) in 0.00s
     Running `target/debug/exam_q2_alt`
Some(("hello", "world"))
</pre>

<hr>

  <p>
  Write your answer in <code>exam_q2/src/lib.rs</code>.

  </p><p>
  When you think your program is working,
  you can use <code>autotest</code>
  to run some simple automated tests:

</p><pre is="tty"><kbd is="sh">6991 autotest</kbd>
</pre>

  <p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q2 lib.rs</kbd>
</pre>

  <br>
  <br>


    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
            
            
        
      
        
      
        
      
        
      
        
      
        
      
    

    
        
    
        
    

    

    

    

    

    
    

</section>
  
    
<section class="exercise">
    <header><h3><small style="font-variant: small-caps; text-transform: lowercase;">
        
        
        Exercise:
    </small>
    <br>Q3: Theory (10 marks)</h3></header>

    

    
    
    

<p>
  Luke is trying to define a library of sports cars for use in his Rust programs.
  He decides that he would like to make use of the trait system to do so, and so defines the following trait:

</p><p>
  </p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub trait </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Car </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">brand</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> CarBrand</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">horsepower</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">u32</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub enum </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">CarBrand </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	Toyota</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	Subaru</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	Nissan</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<p>
  Because defining a type and implementing a trait for each individual car requires
  a substantial amount of boilerplate, he also defines a macro to make the process simpler:

</p><p>
  </p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">#</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">[</span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">macro_export</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">]
</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">macro_rules! </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">car </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	(</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">$name</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">ident</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">$brand</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">expr</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">, $horsepower:literal) </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">=&gt; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub struct </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">$name;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">impl</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Car for $name {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			fn brand(&amp;self) -&gt; CarBrand {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">				use CarBrand</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">*;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">				$brand
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">horsepower</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">u32 </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">				$horsepower
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<p>
  And so defines the individual cars like such:

</p><p>
  </p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">car!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(Corolla</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">  Toyota</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">100</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">car!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(Cressida</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Toyota</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">160</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">car!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(Chaser</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">   Toyota</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">220</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">car!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(Liberty</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">  Subaru</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">100</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">car!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(Impreza</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">  Subaru</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">130</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">car!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(Wrx</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">      Subaru</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">200</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">car!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(Pulsar</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">   Nissan</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">90</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">car!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(Silvia</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">   Nissan</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">200</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">car!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(Skyline</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">  Nissan</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">220</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span></pre>


<p>
  This all seems to have worked correctly, so he creates his first function,
  <code>favourite_car</code>, which given a particular <code>CarBrand</code>
  will return back his favourite car model from that brand:

</p><p>
  </p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">favourite_car</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">brand</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> CarBrand) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> impl Car {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">use </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">CarBrand</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::*</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">match</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> brand {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		Toyota </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">=&gt;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Cressida</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		Subaru </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">=&gt;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Liberty</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		Nissan </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">=&gt;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Skyline</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,		
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<p>
  However, attempting to build this leads Luke into a problem:

</p><p>
</p><pre is="tty"><kbd is="sh">6991 cargo build</kbd>
   <span style="font-weight: bold"><span style="color: red; --darkreader-inline-color:#ff1a1a;" data-darkreader-inline-color="">Compiling</span> cars v0.1.0</span>
<span style="font-weight: bold"><span style="color: red; --darkreader-inline-color:#ff1a1a;" data-darkreader-inline-color="">error[E0308]</span>: `match` arms have incompatible types</span>
<span style="font-weight: bold; color: cadetblue; --darkreader-inline-color:#6fa8aa;" data-darkreader-inline-color="">  --&gt;</span> src/favourite.rs:8:13
<span style="font-weight: bold; color: cadetblue; --darkreader-inline-color:#6fa8aa;" data-darkreader-inline-color="">   |</span>
<span style="font-weight: bold; color: cadetblue; --darkreader-inline-color:#6fa8aa;" data-darkreader-inline-color="">6  | /</span>     match brand {
<span style="font-weight: bold; color: cadetblue; --darkreader-inline-color:#6fa8aa;" data-darkreader-inline-color="">7  | |</span>         Toyota =&gt; Cressida,
<span style="font-weight: bold; color: cadetblue; --darkreader-inline-color:#6fa8aa;" data-darkreader-inline-color="">   | |                   -------- this is found to be of type `cars::Cressida`</span>
<span style="font-weight: bold; color: cadetblue; --darkreader-inline-color:#6fa8aa;" data-darkreader-inline-color="">8  | |</span>         Subaru =&gt; Liberty,
<span style="font-weight: bold; color: cadetblue; --darkreader-inline-color:#6fa8aa;" data-darkreader-inline-color="">   | |</span>                   <span style="font-weight: bold; color: red; --darkreader-inline-color:#ff1a1a;" data-darkreader-inline-color="">^^^^^^^ expected struct `cars::Cressida`, found struct `cars::Liberty`</span>
<span style="font-weight: bold; color: cadetblue; --darkreader-inline-color:#6fa8aa;" data-darkreader-inline-color="">9  | |</span>         Nissan =&gt; Skyline,
<span style="font-weight: bold; color: cadetblue; --darkreader-inline-color:#6fa8aa;" data-darkreader-inline-color="">10 | |</span>     }
<span style="font-weight: bold; color: cadetblue; --darkreader-inline-color:#6fa8aa;" data-darkreader-inline-color="">   | |_____- `match` arms have incompatible types</span>
</pre>
   
<h2>Q3.1 (4 marks)</h2>

<strong>Question:</strong>
<p>
</p><ol>
<li>Explain why Luke is receiving this error message, even with an <code>impl Car</code> return type. <em>(1 mark)</em>
</li><li>Explain two issues Rust (the language) would face if this behaviour were to be allowed. <em>(2 marks)</em>
</li><li>Provide an example of a possible fix for Luke's issue. <em>(1 mark)</em>
</li></ol>
<p></p>

<hr>

  <p>
  Write your answer in <code>exam_q3/q3_1.txt</code>.

  </p><p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q3_1 q3_1.txt</kbd>
</pre>

  <br>
  <br>


<h2>Q3.2 (3 marks)</h2>

<p>
Luke decides that his <code>car!</code> macro still has a bit too much boilerplate.
Instead of defining cars individually, he would like to only perform one macro invocation
for a whole brand of cars at a time.

</p><p>
That is, he would like to modify his macro such that the following code works equivalently:

</p><p>
</p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">car! </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	brand  </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">=</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Toyota</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	models </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">[
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		Corolla  </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">100</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		Cressida </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">160</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		Chaser   </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">220</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	]</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">car! </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	brand  </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">=</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Subaru</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	models </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">[
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		Liberty </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">100</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		Impreza </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">130</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		Wrx     </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">200</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	]</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">car! </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	brand  </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">=</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Nissan</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	models </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">[
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		Pulsar  </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">90</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		Silvia  </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">200</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		Skyline </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">220</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	]</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<strong>Question</strong>
<p>
Rewrite Luke's macro as described. Provide the full <code>macro_rules!</code> definition in your response. <em>(3 marks)</em>

</p><hr>

  <p>
  Write your answer in <code>exam_q3/q3_2.txt</code>.

  </p><p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q3_2 q3_2.txt</kbd>
</pre>

  <br>
  <br>


<h2>Q3.3 (3 marks)</h2>

<p>
Luke would finally like to parameterise the <code>Car</code> trait to include
type-level information about the car's transmission layout.
There are three possible transmission layouts in Luke's library:
front-wheel drive, rear-wheel drive, and all-wheel drive.

</p><p>
Luke knows that most cars are only sold with one choice of transmission layout.
For example, all <code>Wrx</code>s are all-wheel drive,
and all <code>Silvia</code>s are rear-wheel drive.

</p><p>
However, some cars may support different transmission layouts.
For example, while <code>Corolla</code>s were originally rear-wheel drive,
newer <code>Corolla</code>s can come in both front-wheel drive
<em>and</em> all-wheel drive!

</p><p>
With this in mind, Luke settles on two options for his trait design:

</p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="font-style: italic; color: rgb(171, 176, 182); --darkreader-inline-color:#b6b0a7;" data-darkreader-inline-color="">// Layouts
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">struct </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">RearWheelDrive</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">struct </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">FrontWheelDrive</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">struct </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">AllWheelDrive</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="font-style: italic; color: rgb(171, 176, 182); --darkreader-inline-color:#b6b0a7;" data-darkreader-inline-color="">// Trait definition:
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="font-style: italic; color: rgb(171, 176, 182); --darkreader-inline-color:#b6b0a7;" data-darkreader-inline-color="">// Option 1
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub trait </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Car</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;Layout&gt; {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">brand</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> CarBrand</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">horsepower</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">u32</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="font-style: italic; color: rgb(171, 176, 182); --darkreader-inline-color:#b6b0a7;" data-darkreader-inline-color="">// Option 2
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub trait </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Car </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">type </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Layout</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">brand</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> CarBrand</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">horsepower</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">u32</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<strong>Question</strong>
<p>
</p><ol>
<li>Explain the differences between Luke's two options. <em>(2 marks)</em>
</li><li>With the information provided, which option is more suitable for Luke's case? <em>(1 mark)</em>
</li></ol>

<hr>

  <p>
  Write your answer in <code>exam_q3/q3_3.txt</code>.

  </p><p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q3_3 q3_3.txt</kbd>
</pre>

  <br>
  <br>


    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
            
            
        
      
        
      
        
      
        
      
        
      
    

    
        
    
        
    

    

    

    

    

    
    

</section>
  
    
<section class="exercise">
    <header><h3><small style="font-variant: small-caps; text-transform: lowercase;">
        
        
        Exercise:
    </small>
    <br>Q4: Theory (10 marks)</h3></header>

    

    
    
    

<h2>Q4.1 (4 marks)</h2>

<p>
The following program attempts to launch two new threads,
which each print a shared string.

</p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">use </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">std</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">thread</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">main</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">() {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> the_string </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">String</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">from(</span><span style="color: rgb(134, 179, 0); --darkreader-inline-color:#d3ff4f;" data-darkreader-inline-color="">"Hello, World!"</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> handle_1 </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">thread</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">spawn(|| {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">print_string</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">the_string)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	})</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> handle_2 </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">thread</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">spawn(|| {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">print_string</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">the_string)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	})</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	handle_1.</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">join</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">().</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">unwrap</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">()</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	handle_2.</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">join</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">().</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">unwrap</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">()</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">print_string</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">string</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">: </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">str</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">) {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">println!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(134, 179, 0); --darkreader-inline-color:#d3ff4f;" data-darkreader-inline-color="">"</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">{string}</span><span style="color: rgb(134, 179, 0); --darkreader-inline-color:#d3ff4f;" data-darkreader-inline-color="">"</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<p>
However, the code does not compile.

</p><p>
Note: the signature of <code>std::thread::spawn</code> is as follows:

</p><p>
</p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">spawn</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;F, T&gt;(</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">f</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> F) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">JoinHandle&lt;T&gt;
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">where
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">    F</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> FnOnce() -&gt; T + Send + </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">'static</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">    T</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Send + </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">'static</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">...
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<p>
<strong>Question:</strong>
</p><p>
</p><ol>
<li>Explain why the code does not compile. <em>(1 mark)</em>
</li><li>Identify the <strong>specific</strong> part of
    <code>std::thread::spawn</code>'s signature that
    is responsible for this compiler error. <em>(1 mark)</em>
</li><li>Explain two possible solutions to fix this issue. <em>(2 marks)</em>
</li></ol>


<hr>

  <p>
  Write your answer in <code>exam_q4/q4_1.txt</code>.

  </p><p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q4_1 q4_1.txt</kbd>
</pre>

  <br>
  <br>


<h2>Q4.2 (3 marks)</h2>

<p>
When <code>lock()</code> is called on a <code>std::sync::Mutex</code>,
a <code>Result</code> containing a <code>MutexGuard</code> is returned.

</p><p>
<strong>Question:</strong>
</p><p>
</p><ol>
<li>How does the <code>Mutex</code> automatically unlock itself? <em>(1 mark)</em>
</li><li>How does Rust statically prevent programmers from extracting the guarded
    value out of a <code>MutexGuard</code>? <em>(2 marks)</em>
</li></ol>

<hr>

  <p>
  Write your answer in <code>exam_q4/q4_2.txt</code>.

  </p><p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q4_2 q4_2.txt</kbd>
</pre>

  <br>
  <br>


<h2>Q4.3 (3 marks)</h2>

<p>
The signature of <code>std::iter::Iterator::map</code> looks approximately like the following:

</p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub trait </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Iterator </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">type </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Item</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">...
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">map</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;B, F&gt;(</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">f</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> F) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Map&lt;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">Self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">, F&gt;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">where
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	    F</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> FnMut(</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">Self</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Item) -&gt; B,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">...
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<p>
However, the <code>rayon</code> crate's equivalent function, <code>rayon::iter::ParallelIterator::map</code>
contains some subtle differences:

</p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub trait </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">ParallelIterator</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">: Send {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">type </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Item</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">: </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">Send</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">...
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">map</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;F, R&gt;(</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">map_op</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> F) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Map&lt;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">Self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">, F&gt;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">where
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		F</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Fn(</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">Self</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Item) -&gt; R + Sync + Send,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		R</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Send,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">...
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<strong>Question:</strong>
<p>
</p><ol>
<li>Justify the change in type bounds to the <code>type Item</code> associated type parameter. <em>(1 mark)</em>
</li><li>Justify the change in type bounds involving <code>Send</code> and <code>Sync</code> within <code>fn map</code>. <em>(1 mark)</em>
</li><li>Justify the change in function trait (<code>FnMut</code> to <code>Fn</code>) for the provided closure to <code>map</code>. <em>(1 mark)</em>
</li></ol>

<hr>

  <p>
  Write your answer in <code>exam_q4/q4_3.txt</code>.

  </p><p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q4_3 q4_3.txt</kbd>
</pre>

  <br>
  <br>


    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
            
            
        
      
        
      
        
      
        
      
    

    
        
    
        
    

    

    

    

    

    
    

</section>
  
    
<section class="exercise">
    <header><h3><small style="font-variant: small-caps; text-transform: lowercase;">
        
        
        Exercise:
    </small>
    <br>Q5: Practical (10 marks)</h3></header>

    

    
    
    

<p>
In this question, you will implement a basic in-memory cache.

</p><p>
A cache is a data-type which when given some input,
will perform some calculation and return the result.
However, if the calculation for that specific input
had already been performed previously, the cache
will simply return the result of the previous
calculation, instead of doing the hard work again.

</p><p>
You have been given <code>src/lib.rs</code>,
which describes a very simple cache primitive:

</p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">use </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">std</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{collections</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">HashMap</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">rc</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Rc}</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub struct </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Cache </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">    calculator</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">: </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">String) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> String,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">    cache_map</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">: </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">HashMap&lt;String, Rc&lt;String&gt;&gt;,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">impl </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Cache </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">    </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">new</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">calculator</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">: </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">String) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> String) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">Self </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">        Cache {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">            calculator</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">            cache_map</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">: </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">HashMap</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">new()</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">        }
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">    }
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">    </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">get</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">mut </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">key</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> String) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Rc&lt;String&gt; {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">        </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">if let </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">Some</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(value) </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">.cache_map.</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">get</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">key) {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">            Rc</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">clone(value)
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">        } </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">else </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">            </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> value </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Rc</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">new((</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">.calculator)(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">key))</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">            </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">.cache_map.</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">insert</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(key</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Rc</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">clone(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">value))</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">            value
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">        }
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">    }
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<p>
This code correctly implements an in-memory cache that works
only for key-value pairs of type <code>String</code>.
That is, the cache will work for a <code>calculator</code>
of type <code>fn(&amp;String) -&gt; String</code>, and allow you
to query/fill the cache with the <code>get</code> function
turning a <code>String</code> key into an <code>Rc&lt;String&gt;</code> value.

</p><p>
Your task is to make this cache more generic.
You must modify the type of the calculator from
a function pointer of <code>&amp;String -&gt; String</code>
into a closure of <code>&amp;Key -&gt; Value</code>
for any possible types <code>Key</code> and <code>Value</code>.
As part of this, you must also decide which type of closure
is the most generic choice out of
<code>FnOnce</code>, <code>FnMut</code> and <code>Fn</code>.

</p><p>
This will also require you to change the generic parameters within
the <code>HashMap</code> from <code>&lt;String, Rc&lt;String&gt;&gt;</code>
into <code>&lt;Key, Rc&lt;Value&gt;&gt;</code>,
and similarly within the <code>get</code> function,
as previously described in the calculator closure.

</p><p>
You will be required to constrain some generic type parameters
as you solve the exercise.
You must ensure that you do not overly constrain the types,
only requiring what is minimally needed.

</p><hr>

  <p>
  Write your answer in <code>exam_q5/src/lib.rs</code>.

  </p><p>
  When you think your program is working,
  you can use <code>autotest</code>
  to run some simple automated tests:

</p><pre is="tty"><kbd is="sh">6991 autotest</kbd>
</pre>

  <p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q5 lib.rs</kbd>
</pre>

  <br>
  <br>


    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
            
            
        
      
        
      
        
      
    

    
        
    
        
    

    

    

    

    

    
    

</section>
  
    
<section class="exercise">
    <header><h3><small style="font-variant: small-caps; text-transform: lowercase;">
        
        
        Exercise:
    </small>
    <br>Q6: Theory (10 marks)</h3></header>

    

    
    
    


<h2>Q6.1 (4 marks)</h2>

<strong>Question:</strong>
<ol>
<li>	Is it possible to invoke undefined behaviour in Rust?
	If so, how? If not, why? <em>(1 mark)</em>

</li><li>	Explain the difference between
	an unsafe block and an unsafe function in Rust. <em>(1 mark)</em>

</li><li>	Describe the technique of unsafe implementations behind safe abstractions,
	and explain how it reduces Rust's scope for unsoundness. <em>(2 marks)</em>
</li></ol>

<hr>

  <p>
  Write your answer in <code>exam_q6/q6_1.txt</code>.

  </p><p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q6_1 q6_1.txt</kbd>
</pre>

  <br>
  <br>

<h2>Q6.2 (6 marks)</h2>

<p>
	The following code attempts to write an
	(inefficient, but simple)
	implementation of a <code>channel</code>
	using <code>unsafe</code>.

	In particular, it implements a bounded-buffer
	single-producer single-consumer channel where
	the bound is always 1.

</p><p>
	</p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">channel</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">() </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(Sender&lt;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">i32</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&gt;, Receiver&lt;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">i32</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&gt;) {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> buffer  </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">Box</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">into_raw(</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">Box</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">new(</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">None</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">i32</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&gt;))</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> hung_up </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">Box</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">into_raw(</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">Box</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">new(</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">false</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">))</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> sender   </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">=</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Sender   { buffer</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> hung_up }</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> receiver </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">=</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Receiver { buffer</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> hung_up }</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	(sender</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">,</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> receiver)
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub struct </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Sender</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	buffer</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">  *</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">mut </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Option&lt;T&gt;,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	hung_up</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> *</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">mut bool</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub struct </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Receiver</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	buffer</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">  *</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">mut </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Option&lt;T&gt;,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	hung_up</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> *</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">mut bool</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">,
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">impl</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Sender</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">send</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">mut </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">, </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">value</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> T) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Option&lt;()&gt; {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">if unsafe </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{ </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">*</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">.hung_up } {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">return </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">None</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="font-style: italic; color: rgb(171, 176, 182); --darkreader-inline-color:#b6b0a7;" data-darkreader-inline-color="">// wait until the channel is empty...
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">loop </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> value </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">unsafe </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{ std</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">ptr</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">read(</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">.buffer) }</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">if</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> value.</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">is_none</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">() { </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">break</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			std</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">mem</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">forget(value)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="font-style: italic; color: rgb(171, 176, 182); --darkreader-inline-color:#b6b0a7;" data-darkreader-inline-color="">// send the value into the shared buffer
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">unsafe </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{ std</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">ptr</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">write(</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">.buffer</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">Some</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(value))</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">Some</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(())
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">impl</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Receiver</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">pub fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">recv</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">mut </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">) </span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">-&gt; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">Option&lt;T&gt; {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">loop </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">if unsafe </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{ </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">*</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">.hung_up } {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">				</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">return </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">None</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			</span><span style="font-style: italic; color: rgb(171, 176, 182); --darkreader-inline-color:#b6b0a7;" data-darkreader-inline-color="">// wait until the value exists...
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">if let </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">Some</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(value) </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">unsafe </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{ std</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">ptr</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">read(</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">.buffer) } {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">				</span><span style="font-style: italic; color: rgb(171, 176, 182); --darkreader-inline-color:#b6b0a7;" data-darkreader-inline-color="">// clear the channel for the next message
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">				</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">unsafe </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{ std</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">ptr</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">write(</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">.buffer</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">None</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">				</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">return </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">Some</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(value)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">unsafe impl</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">:</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> Send&gt; Send </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">for </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Sender</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; {}
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">unsafe impl</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; Send </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">for </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Receiver</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; {}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">impl</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; Drop </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">for </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Sender</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">drop</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">mut </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">) {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">unsafe </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{ </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">*</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">.hung_up </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">true</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">impl</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; Drop </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">for </span><span style="color: rgb(57, 158, 230); --darkreader-inline-color:#47a5e8;" data-darkreader-inline-color="">Receiver</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">&lt;T&gt; {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">drop</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">&amp;</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">mut </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">) {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">unsafe </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{ </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">*</span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">self</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">.hung_up </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">true</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">; </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span></pre>


<p>
	It can be used like this:

</p><p>
	</p><pre style="background-color: rgb(250, 250, 250); --darkreader-inline-bgcolor:#1b1d1e;" data-darkreader-inline-bgcolor=""><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">use </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">exam_q6_lib</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">channel</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">fn </span><span style="color: rgb(242, 151, 24); --darkreader-inline-color:#f3a02d;" data-darkreader-inline-color="">main</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">() {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	std</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">thread</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">::</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">scope(|</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">scope</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">| {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">let </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">mut</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> send</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">, </span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">mut</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> recv) </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">= </span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">channel</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">()</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		scope.</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">spawn</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">move </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">|| </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">while let </span><span style="font-style: italic; color: rgb(85, 180, 212); --darkreader-inline-color:#5fb9d7;" data-darkreader-inline-color="">Some</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(num) </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">=</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> recv.</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">recv</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">() {
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">				</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">println!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(134, 179, 0); --darkreader-inline-color:#d3ff4f;" data-darkreader-inline-color="">"Thread got </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">{num}</span><span style="color: rgb(134, 179, 0); --darkreader-inline-color:#d3ff4f;" data-darkreader-inline-color="">!"</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">println!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(134, 179, 0); --darkreader-inline-color:#d3ff4f;" data-darkreader-inline-color="">"Thread finished!"</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		})</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(250, 110, 50); --darkreader-inline-color:#fa763e;" data-darkreader-inline-color="">for</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color=""> i </span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">in </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">1</span><span style="color: rgb(237, 147, 102); --darkreader-inline-color:#ed9366;" data-darkreader-inline-color="">..=</span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">5 </span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">{
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">println!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(134, 179, 0); --darkreader-inline-color:#d3ff4f;" data-darkreader-inline-color="">"Sending </span><span style="color: rgb(163, 122, 204); --darkreader-inline-color:#a57dcd;" data-darkreader-inline-color="">{i}</span><span style="color: rgb(134, 179, 0); --darkreader-inline-color:#d3ff4f;" data-darkreader-inline-color="">..."</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">			send.</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">send</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(i)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		}
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">println!</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(</span><span style="color: rgb(134, 179, 0); --darkreader-inline-color:#d3ff4f;" data-darkreader-inline-color="">"Sending finished!"</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">		</span><span style="color: rgb(240, 113, 113); --darkreader-inline-color:#f06d6d;" data-darkreader-inline-color="">drop</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">(send)</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">	})</span><span style="color: rgba(110, 117, 128, 0.8); --darkreader-inline-color:rgba(157, 148, 136, 0.8);" data-darkreader-inline-color="">;
</span><span style="color: rgb(110, 117, 128); --darkreader-inline-color:#9d9488;" data-darkreader-inline-color="">}
</span></pre>


<pre is="tty"><kbd is="sh">6991 cargo run</kbd>
    Finished dev [unoptimized + debuginfo] target(s) in 0.00s
     Running `target/debug/exam_q6`
Sending 1...
Sending 2...
Sending 3...
Thread got 1!
Sending 4...
Thread got 2!
Thread got 3!
Thread got 4!
Sending 5...
Thread got 5!
Sending finished!
Thread finished
</pre>

<p>
	However, sometimes when it is run, the thread never receives the final message!

</p><pre is="tty">    Finished dev [unoptimized + debuginfo] target(s) in 0.00s
     Running `target/debug/exam_q6`
Sending 1...
Sending 2...
Sending 3...
Thread got 1!
Thread got 2!
Thread got 3!
Sending 4...
Sending 5...
Sending finished!
Thread got 4!
Thread finished
</pre>

<p>
	<strong>Question:</strong>

	</p><ol>
		<li>Perform a code review on the channel implementation
		    <em>(not the main function)</em>,
		    carefully examining the usage of <code>unsafe</code>
		    and make a judgement on the overall soundness.
		    <em>(4 marks)</em>

		</li><li>Demonstrate or otherwise explain how to fix the issue
		    shown above where the thread sometimes does not receive
		    the final message. Pasting a <code>diff</code> of the
		    necessary changes to <code>lib.rs</code> is sufficient.
		    <em>(2 marks)</em>
	</li></ol>
<p></p>

<hr>

  <p>
  Write your answer in <code>exam_q6/q6_2.txt</code>.

  </p><p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:
</p><pre is="tty"><kbd is="sh">give cs6991 exam_q6_2 q6_2.txt</kbd>
</pre>

  <br>
  <br>


    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
            
            
        
      
        
      
    

    
        
    
        
    

    

    

    

    

    
    

</section>
  
    
<section class="exercise">
    <header><h3><small style="font-variant: small-caps; text-transform: lowercase;">
        
        
        Exercise:
    </small>
    <br>Q7: Theory (10 marks)</h3></header>

    

    
    
    



<p>
  The final question of the exam will be a more open-ended question
  which will ask you to perform some analysis or make an argument.
  
  Your argument will be judged alike an essay
  (<abbr>i.e.</abbr> are your claims substantiated by compelling arguments).

  Remember that you <strong>will not</strong> get any marks
  for blindly supporting / opposing Rust.
</p>

<p>
  On November 10th 2022, the USA's National Security Agency (i.e. NSA)
  published a "Cybersecurity Information Sheet" investigating software
  memory safety.

  In this 7 page document
  (which you <strong>are not</strong> expected to read,
  but is accessible <a href="https://media.defense.gov/2022/Nov/10/2003112742/-1/-1/0/CSI_SOFTWARE_MEMORY_SAFETY.PDF">here</a> and as a PDF
  in the <code>exam_q7</code> directory as <code>nsa.pdf</code>),
  the NSA explains that memory safety vulnerabilities represent a
  potent security threat, to the extent that memory-unsafe languages
  should be avoided if at all possible.

  Their overall conclusion is included within the following excerpt
  (which you <strong>are</strong> expected to read,
  and is also available in the <code>exam_q7</code> directory
  as <code>nsa_excerpt.txt</code>):
</p>

<pre>Examples of memory safe language include C#, Go, Java®, Ruby™, Rust®, and Swift®.

[...]

Memory issues in software comprise a large portion of the exploitable vulnerabilities
in existence. NSA advises organizations to consider making a strategic shift from
programming languages that provide little or no inherent memory protection, such as
C/C++, to a memory safe language when possible.

[...]

Memory safe languages provide differing degrees of memory usage protections, so available
code hardening defenses, such as compiler options, tool analysis, and operating system
configurations, should be used for their protections as well. By using memory safe
languages and available code hardening defenses, many memory vulnerabilities can be
prevented, mitigated, or made very difficult for cyber actors to exploit.
</pre>

<p>
  In response to this advisory, Bjarne Stroustrup 
  (the designer and implementor of the C++ programming language)
  published a C++ Standards committee paper titled
  <strong>A call to action: Think seriously about 'safety'; then do something sensible about it</strong>
  on December 6th 2022.

  This paper (in a slightly redacted form) is provided below
  (and as a text file as <code>bjarne.txt</code> in the <code>exam_q7</code> directory).
</p>

<pre>[ in response to the NSA information sheet ]

That specifically and explicitly excludes C and C++ as unsafe. As is far too
common, it lumps C and C++ into the single category C/C++, ignoring 30+ years of
progress. Unfortunately, much C++ use is also stuck in the distant past, ignoring
improvements, including ways of dramatically improving safety.

Now, if I considered any of those "safe" languages superior to C++ for the range of
uses I care about, I wouldn't consider the fading out of C/C++ as a bad thing, but
that's not the case. Also, as described, "safe" is limited to memory safety, leaving
out on the order of a dozen other ways that a language could (and will) be used to
violate some form of safety and security.

[...]

There is not just one definition of "safety", and we can achieve a variety of kinds of
safety through a combination of programming styles, support libraries, and enforcement
through static analysis. [C++ language proposal P2410r0] gives a brief summary of
the approach. I envision compiler options and code annotations for requesting rules
to be enforced. The most obvious would be to request guaranteed full type-and-resource
safety. [C++ language proposal P2687R0] is a start on how the standard can support this,
R1 will be more specific. Naturally, comments and suggestions are most welcome.

Not everyone prioritizes "safety" above all else. For example, in application domains
where performance is the main concern, the [C++ language proposal P2687R0] approach
lets you apply the safety guarantees only where required and use your favorite tuning
techniques where needed. Partial adoption of some of the rules (e.g., rules for range
checking and initialization) is likely to be important. Gradual adoption of safety
rules and adoption of differing safety rules will be important. If for no other reason
than the billions of lines of C++ code will not magically disappear, and even "safe"
code (in any language) will have to call traditional C or C++ code or be called by
traditional code that does not offer specific safety guarantees.

Ignoring the safety issues would hurt large sections of the C++ community and undermine
much of the other work we are doing to improve C++. So would focusing exclusively
on safety.

What might "something sensible to do" be? I suggest making a list of issues that could
be considered safety issues (including UB) and finding ways of preventing them within
the framework of [C++ language proposal P2687R0]. That's what I plan to do.
</pre>

<small>
From
<a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2739r0.pdf">https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2739r0.pdf</a>.
</small>

<hr>

<p>
  Read through the excerpt above,
  and <strong><u>discuss</u></strong> the following prompt:
</p>

<h5>Memory safety does not pose a significant enough threat
    to warrant substituting C or C++ code for Rust,
	as explained by Bjarne Stroustrup.</h5>

<p>
  The overall <em>structure</em> of your answer
  is <strong>not</strong> marked.
  For example,
  your answer may include small paragraphs of prose
  accompanied by dot-points,
  or could instead be posed as a verbal discussion with your friend.

  Regardless of the structure / formatting you choose,
  the <strong>substance</strong> of what you write
  is the most important factor,
  and is what will determine
  your overall mark for this question.
</p>
<p>
  Only responses less than 1000 words will be marked for this question.
  There will be many good answers that are significantly shorter (see above),
  this limit is a cap to save our marking time, and your sanity.
</p><p>

</p><aside class="note">
  From
  <a href="https://www.student.unsw.edu.au/glossary-task-words" target="_blank">
    UNSW's Glossary of Task Words</a>:
  <br><br>
  <table class="table table-bordered">
    <tbody><tr>
      <td><strong>Discuss</strong></td>
      <td>Investigate or examine by argument.
          Examine key points and possible interpretations,
          sift and debate,
          giving reasons for and against.
          Draw a conclusion.</td>
    </tr>
  </tbody></table>
</aside>

<hr>

  <p>
  Write your answer in <code>exam_q7/q7.txt</code>.

  </p><p>
  When you are finished working on your answer, submit your work with <strong>give</strong>:

</p><pre is="tty"><kbd is="sh">give cs6991 exam_q7 q7.txt</kbd>
</pre>

  <br>
  <br>


    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
            
            
        
      
    

    
        
    
        
    

    

    

    

    

    
    

</section>
  



  
    <section>
      <header><h3>Submission</h3></header>
      

        <p>
          When you are finished each exercise make sure you submit your work by running <strong>give</strong>.

        </p><p>
          You can run <strong>give</strong> multiple times.
          Only your last submission will be marked.

        </p><p>
          Don't submit any exercises you haven't attempted.

        </p><p>
            Do not leave it to the deadline to submit your answers.
            Submit each question when you finish working on it.
            Running autotests does not automatically submit your code.

        </p><p>
          If you are working at home, you may find it more convenient
          to upload your work via
        <a href="https://cgi.cse.unsw.edu.au/~give/Student/give.php">give's web interface</a>.

        </p><p>
          Remember you have until <b>2023-05-10 12:00:00</b>, Sydney time, to complete this exam
          (not including any extra time provided by ELPs).

        </p><p>
          You cannot obtain marks by e-mailing your code to tutors or lecturers.

        </p><p>
          </p><pre is="tty"><kbd is="sh">6991 classrun -check exam_q1_1</kbd>
<kbd is="sh">6991 classrun -check exam_q1_2</kbd>
<kbd is="sh">6991 classrun -check exam_q1_3</kbd>
<kbd is="sh">6991 classrun -check exam_q2</kbd>
...
<kbd is="sh">6991 classrun -check exam_q7</kbd>
</pre>

      
  


<p class="text-cetner font-weight-bold text-uppercase">- End of examination. -</p>
</section></div>


            
    </div>
</div></main>
<footer class="mt-3 pt-3 bg-dark text-center no-print">
    <p class="text-muted">
        <strong>COMP6991 23T1: Solving Modern Programming Problems with Rust</strong>
        is brought to you by <br>
        the <a href="https://www.cse.unsw.edu.au/">School of Computer Science and Engineering</a><br>
        at the <a href="https://www.unsw.edu.au/">University of New South Wales</a>, Sydney.<br>
        For all enquiries, please email the class account at
        <a href="mailto:cs6991@cse.unsw.edu.au">cs6991@cse.unsw.edu.au</a><br>

        <small>CRICOS Provider 00098G</small>

        
        <a class="float-right mr-3 text-muted" href="https://cgi.cse.unsw.edu.au/~cs6991/23T1/tutor">
            Login as tutor
        </a>
        
    </p>
</footer><div id="goog-gt-" class="skiptranslate VIpgJd-yAWNEb-L7lbkb" dir="ltr"><div style="padding: 8px;"><div><div class="VIpgJd-yAWNEb-l4eHX"><img src="./COMP6991 23T1 — Solving Modern Programming Problems with Rust_files/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div style="padding: 8px; float: left; width: 100%;"><h1 class="VIpgJd-yAWNEb-r4nke VIpgJd-yAWNEb-mrxPge">原文</h1></div><div style="padding: 8px;"><div class="VIpgJd-yAWNEb-nVMfcd-fmcmS"></div></div><div class="VIpgJd-yAWNEb-cGMI2b" style="padding: 8px;"><div class="VIpgJd-yAWNEb-Z0Arqf-PLDbbf"><span class="VIpgJd-yAWNEb-Z0Arqf-hSRGPd">提供更好的翻译建议</span></div><div class="VIpgJd-yAWNEb-fw42Ze-Z0Arqf-haAclf"><hr style="color: rgb(204, 204, 204); background-color: rgb(204, 204, 204); height: 1px; border: none; --darkreader-inline-color:#c8c3bc; --darkreader-inline-bgcolor:#35393b; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-color="" data-darkreader-inline-bgcolor="" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><div class="VIpgJd-yAWNEb-Z0Arqf-H9tDt"></div></div></div><div class="VIpgJd-yAWNEb-jOfkMb-Ne3sFf" style="display: none;"></div></div>



</body></html>