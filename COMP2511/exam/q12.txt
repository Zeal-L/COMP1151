When C3 consumes the first red event generated by P1, it will immediately generate another red event. After that, it will continue to circulate and consume the red events produced by itself.


If P1 produces another red event at this time, it will block the shared channel. As a result, C2 cannot receive new green events, and the shared channel is filled with red events.


Specifically, the first problem is that it is impossible for the producer to put data to the shared channel indefinitely, because the buffer is limited in size. When the buffer is full, the producer must stop production. And the premise for consumers to fetch data is that there is data in the buffer, so when the buffer is empty, the C2 consumer can only stop.